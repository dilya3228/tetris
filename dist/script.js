(()=>{"use strict";const e="coverLetter_1",t=1500,o=e=>new Promise(t=>setTimeout(t,e));function a(e=1e3,t=5e3){return Math.floor(Math.random()*(t-e+1))+e}let c=!1;function n(){return c}function r(e){c=e}const l="hh.ru/vacancy",i=["hh.ru","hh.ru/search/vacancy"],s={coverLetter_1:"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ",coverLetter_2:".",coverLetter_3:"",coverLetter_4:"",coverLetter_5:""};function u(e,t){const o=document.querySelector("#cover-letter textarea")||document.querySelector('[data-qa="vacancy-response-popup-form-letter-input"]');o&&function(e,t=""){if([window.HTMLInputElement,window.HTMLSelectElement,window.HTMLTextAreaElement].includes(e?.__proto__?.constructor)){Object.getOwnPropertyDescriptor(e.__proto__,"value").set.call(e,t);const o=new Event("input",{bubbles:!0});e.dispatchEvent(o)}}(o,s[e].replace("{#vacancyName}",t))}async function d(){document.querySelector('[data-qa="relocation-warning-confirm"]')?.click()}async function y(){const e=document.querySelector('[data-qa="magritte-alert"]'),a=e?.nextElementSibling?.querySelectorAll("button");a?.[1]?.click(),await o(t)}function m(){return!!document.querySelector('[data-qa="modal-overlay"]')}async function f(a){document.querySelector('[data-qa="vacancy-response-letter-toggle-text"]').click(),await o(t);const c=document.querySelector('[data-qa="vacancy-response-letter-submit"]');u(e,a),c.click(),await o(t),document.querySelector('[data-qa="chatik-close-chatik"]')?.click()}async function p(a){const c=document.querySelector('[data-qa="vacancy-response-submit-popup"]');await async function(){const e=document.querySelector('[data-qa="title-description"]'),a=document.querySelector('[data-qa="resume-title"]'),c=document.querySelector('[data-qa="add-cover-letter"]');a.click(),await o(t);const n=document.querySelector('[data-qa="magritte-select-option-a7aca2a1ff0f2717af0039ed1f77764b424667"]');n?.click(),c?.click()||e.click()}(),await o(t),u(e,a),c.click(),await o(t)}async function q(){const e=window.location.href,t=l,c=i;console.log("–ù–∞–π–¥–µ–Ω–æ –≤–∞–∫–∞–Ω—Å–∏–π:",c),console.log("vacancy 20 —Å—Ç—Ä–æ–∫–∞:",t),e.includes(t)?await async function(){const e=document.querySelector('[data-qa="vacancy-response-link-top"]');console.log(e,"vacancy"),e&&(e.click(),await f())}():c.some(t=>e.includes(t))&&await async function(){const e=document.querySelectorAll('[data-qa="vacancy-serp__vacancy"]');if(e.length)for(const t of e){if(!n())break;t.scrollIntoView({behavior:"smooth",block:"center"}),t.style.boxShadow="0 0 8px #0059b3";const e=t.querySelector("[data-qa='serp-item__title']")?.innerText,c=t.querySelector('[data-qa="vacancy-serp__vacancy_response"]');if(["Respond","–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è"].includes(c?.innerText)){c.click();const t=a(5e3,1e4);console.log(`‚è≥ –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º –æ—Ç–∫–ª–∏–∫–æ–º: ${Math.floor(t/1e3)} —Å–µ–∫`),await o(t),await d(),await y(),m()?await p(e):await f(e)}t.style.boxShadow=""}}()}async function v(){const e=document.querySelector('[data-action="submit-responses"]');if(n())return r(!1),localStorage.removeItem("autoRepeat"),e.textContent="–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∫–ª–∏–∫–∏",void console.log("‚èπÔ∏è –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–∫–ª–∏–∫–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞");r(!0),localStorage.setItem("autoRepeat","true"),e.textContent="–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É",console.log("‚ñ∂Ô∏è –ù–∞—á–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–∫–ª–∏–∫–æ–≤");try{await q()}catch(e){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ—Ç–∫–ª–∏–∫–æ–≤:",e)}finally{r(!1),e.textContent="–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∫–ª–∏–∫–∏",console.log("‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–∫–ª–∏–∫–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"),"true"===localStorage.getItem("autoRepeat")&&(console.log("‚è≥ –¢–∞–π–º–µ—Ä: 1 —á–∞—Å –¥–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã..."),setTimeout(()=>{console.log("üîÅ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Äî –ø—Ä–æ—à–ª–æ 1 —á–∞—Å"),location.reload()},2e4))}}!async function(){await async function(){await o(t);const e=document.querySelectorAll(".supernova-navi-item.supernova-navi-item_lvl-2"),a=e[4].cloneNode(!0),c=function(e,t="div",o="–ü–æ–º–æ—â—å"){return Array.from(e.querySelectorAll(t)).find(e=>e.textContent.trim()===o&&0===e.children.length)}(a);c.setAttribute("data-action","submit-responses"),c.textContent="–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∫–ª–∏–∫–∏",e[4].insertAdjacentElement("afterend",a),a.querySelector('[data-action="submit-responses"]').addEventListener("click",v)}(),await o(5e3),"true"===localStorage.getItem("autoRepeat")?(console.log("üîÅ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ toggleResponseBtn –ø–æ—Å–ª–µ reload"),v()):await q()}()})();